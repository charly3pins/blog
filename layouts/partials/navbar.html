{{ $current := . }}
<div class="container">
    <div class="toggle">
        <input type="checkbox">
        <span class="bar"></span><span class="bar"></span><span class="bar"></span>
        <div id="mobile-menu">
            {{ range .Site.Menus.main }}
                {{ $active := or ($current.IsMenuCurrent "main" .) ($current.HasMenuCurrent "main" .) }}
                {{ $active = or $active (eq .Name $current.Title) }}
                {{ $active = or $active (eq (lower .URL) (lower $current.Title)) }}
                {{ $active = or $active (eq (lower .URL) (lower $current.Type)) }}
                <span class="menu-item">
                    <a href="{{ .URL | relLangURL }}" class="{{ if $active }}active{{ end }}">{{ safeHTML .Name }}</a>
                </span>
            {{ end }}
        </div>
    </div>
    <div id="menu">
        {{ range .Site.Menus.main }}
            {{ $active := or ($current.IsMenuCurrent "main" .) ($current.HasMenuCurrent "main" .) }}
            {{ $active = or $active (eq .Name $current.Title) }}
            {{ $active = or $active (eq (lower .URL) (lower $current.Title)) }}
            {{ $active = or $active (eq (lower .URL) (lower $current.Type)) }}
            <span class="menu-item">
                <a href="{{ .URL | relLangURL }}" class="{{ if $active }}active{{ end }}">{{ safeHTML .Name }}</a>
            </span>
        {{ end }}
    </div>
</div>